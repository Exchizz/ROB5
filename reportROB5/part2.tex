\section{Coverage}
\label{sec::coverage}
The Dean feels that it is not economically justified to by a robot system for 80.000 euro just to collect cups. Hence, it is interesting to have the robot do a second task, namely washing of the floors. Therefore calculate a coverage path that covers most of the floor in the map. Again the robot must start and end at the offloading stations.\\[0.2cm]
Again, you are free to choose algorithm and you should document the choice, the distance in kilometres that the robot moves and how long it takes to compute the coverage path.

All coverage is done online, and it involves the functions
\begin{itemize}\itemsep-2pt
\item \textbf{Wavefront} from the robots current position to the center of an other room
\end{itemize}

\subsection{Method}
The coverage plan for the complete map is
\begin{enumerate}\itemsep-2pt
\item Block A
\item The Big Hall
\item Block B
\item Block C
\item Block D
\item Block E
\end{enumerate}

Figure \ref{fig::room} illustrates covering a room. The dark gray pixels are where the robot is moving and the light gray area is what the robot has covered. The coverage is done in the following steps
\begin{enumerate}\itemsep-2pt
\item Starts at upper left corner of the rooms freespace, $Q_{room}$, and keep moving down to the lower left corner of the $Q_{room}$.
\item Turn left 90 degrees and move 8 pixels
\item Turn left 90 degrees and keep moving until the limit of the $Q_{room}$ is detected.
\item Turn right 90 degrees and move 8 pixels
\item Turn right 90 degrees and keep moving until the limit of the $Q_{room}$ is detected.
\item Keep repeating the step 2 to 5 until the same y--coordinate as the upper right corner of the rooms $Q_{room}$ is detected. At this point, either the robot has the same position as the upper right corner or the lower right corner of the $Q_{room}$.    
\begin{itemize}\itemsep-2pt  
\item If it is position of the lower right corner of the $Q_{room}$, then turn 90 degrees to the left and keep moving until the robot has the same position as the upper right corner of the $Q_{room}$ (Case A on figure \ref{fig::room}). The room is fully covered and the robot can move to the next room. 
\item If it is position of the upper right corner of the $Q_{room}$, then turn right 90 degrees and keep moving until the robot has the same position as the lower right corner of the $Q_{room}$ (Case B on figure \ref{fig::room}). The room is fully covered and the robot can move to the next room. 
\end{itemize}
\end{enumerate} 
When the room is fully covered, then the center of the next room is popped from the priority queue of the block, that the robot is currently in. A wavefront is then generated from that center-position, until the wavefront hits the position of the robot, and then the path to that center is found. The wavefront is stopped as soon as it hits the robots position, because the robot will never gonna use the rest of wavefront, and it saves a lot of time and memory by not making a full wavefront map. This makes it also possible to run the wavefront online, because most often the robot does not have to drive so far to get to the next room center. 

\begin{figure}[H]
\centering
\includegraphics[scale=0.33]{img/room.png}
\caption{Coverage of a room in the complete map.}
\label{fig::room}
\end{figure}

Figure \ref{fig::coverage} shows the complete map fully covered.

\begin{figure}[H]
\centering
\includegraphics[scale=0.33]{img/coverage.png}
\caption{Coverage of a room in the complete map.}
\label{fig::coverage}
\end{figure}

\subsection{Results}

\subsection{Conclusion}
What works and what does not? Why?
