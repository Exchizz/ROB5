\documentclass[11pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{graphicx}
\usepackage{fancyhdr}
\usepackage{fullpage}
\setlength{\parindent}{0pt} %no indent after equations or fig. - has to be after TOC
\usepackage{amsmath}
\usepackage{dcolumn}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{wrapfig}
\usepackage{booktabs}
\usepackage[table,xcdraw]{xcolor}
\usepackage{dcolumn}
\usepackage{steinmetz}
\usepackage{float}
\restylefloat{table}
\usepackage{multirow}
\usepackage{listings}
\usepackage{epstopdf}
% hyperlink
\usepackage[linktoc=all]{hyperref}
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=black,
    urlcolor=black
}
\usepackage{wrapfig}
\usepackage{subcaption}
\usepackage{icomma}
\usepackage{setspace}

\usepackage{tocloft}
\renewcommand\cftbeforesecskip{0pt}

\usepackage{color}

\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\DeclareCaptionFont{red}{\color{gray}}
\captionsetup{textfont={footnotesize,sc,red},font={footnotesize,sc,red}}

\lstset{frame=false,
  language=C++,
  aboveskip=3mm,
  belowskip=3mm,
  showstringspaces=false,
  columns=flexible,
  basicstyle={\small\ttfamily},
  numbers=left,
  numberstyle=\tiny\color{gray},
  keywordstyle=\color{blue},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve},
  breaklines=true,
  breakatwhitespace=true,
  tabsize=3,
  moredelim=**[is][\color{mauve}]{@}{@},
}

\newcolumntype{C}[1]{%
 >{\vbox to 5ex\bgroup\vfill\centering}%
 p{#1}%
 <{\egroup}}  

\graphicspath{{./figures/}}

\title{ROB5}


\begin{document}

\begin{titlepage}
\begin{center}

\textsc{\Large }\\[0.5cm]
\vfill
\includegraphics[scale=0.4]{img/SDU}\\[1cm]
\hrule ~\\[0.3cm]
{ \huge \bfseries The Cup Collector \\ROB5\\[0.4cm] }
\hrule ~\\[1.5cm]
\vfill

% Author and supervisor
\begin{minipage}[t]{7.9cm}
\begin{flushleft} \large
\emph{By:}\\
Jes Jepsen  \\
Keerthikan Ratnarajah\\
Mathias Neerup\\
Nicolai Lynnerup \\
\end{flushleft}
\end{minipage}
\begin{minipage}[t]{7.9cm}
\begin{flushright} \large
\emph{University teacher:} \\
Jimmy Alison Jørgensen \\
jimali@mmmi.sdu.dk
\end{flushright}
\end{minipage}

\vspace{1.2cm}
Dato: \today


\end{center}
\end{titlepage}

\tableofcontents
\newpage

\newpage
\section{The Cup Collector}
The cantina at SDU has in a period of time collected empirical data that suggests that researchers and students at SDU are lazy and forgetful when it comes to bringing back used cups to the cantina. To avoid situations where there are no coffee cups and thereby loosing coffee sales (or fresh students), the cantina has decided to assign the task of collecting cups form offices and hallways of SDU, to one person for two hours per day.\\[0.2cm]
A master student with some knowledge on vision and point clouds has using a Kinect and a robot arm implemented an algorithm to detect and collect cups within a distance of two meters. Also he has implemented the stable grasping of cups that are within one meter of the robot. Unfortunately, this master student never attended ROB05 and therefore has no skill in navigating robots.\\[0.2cm]
The problem is therefore presented to this year’s class in ROB05.\\[0.2cm]
The task contains tree parts. All tree must be targeted in the project.

\subsection{Limitations and information}
\begin{itemize}
\item The map ”complete\_map\_project.pgm” use a scale 10pixel:1m and figure \ref{fig::original} shows the complete map. 
\item The map use the scale 10px to 1 meter
\item The robot can only carry 20 cups at the time
\item The robot is NOT a point robot. It has a circular shape with a radius of 0,4m, which on the complete map is equivalent to 
$$r=4\:px$$
\item The robot can drive up to 5 km/hour, which on the complete map is equivalent to
$$v=50.000\:px/hour$$
\item The elevators are denoted with pixelvalues 128,129,130,131 and 132.
\end{itemize}

\begin{figure}[H]
\centering
\includegraphics[scale=0.33]{img/original.png}
\caption{The complete map of SDU.}
\label{fig::original}
\end{figure}

\newpage

\input{part1}
\newpage

\input{part2}
\newpage

\input{part3}
\newpage

\section{Future work}
To improve the coverage time, the planning part should be seen as a the Travelling Salesman Problem (TSP). Currently, it is the shortest distance from the center of the block to each center of room in the block that determines the order the rooms are covered. The TSP asks the following question:
\begin{center}
\textit{Given a list of cities and the distances between each pair of cities, what is the shortest possible route that visits each city exactly once and returns to the origin city?\footnote{\url{http://en.wikipedia.org/wiki/Travelling_salesman_problem}}}
\end{center} 
To do this, the following requirements must be met
\begin{itemize}\itemsep-2pt
\item The model is a complete map, i.e. all rooms and blocks are connected by an edge. Long edges will only complete the graph, not affect the optimal tour.
\item Each weight of the edge is the distance between the two vertexes 
\item All edges are undirected
\end{itemize}   
The most direct implementation would be using the brute force method, at search for the cheapest route around each vertex. The running time for this approach would be $O(n!)$, but there are 100-130 rooms, so it would take way to long time to use that approach, so if the problem should be solved, the Held--Karp algorithm would be the choice of implementation, because it has a time complexity of
$$O(n^2 2^n)$$
or if another algorithm with a better time complexity. \\[0.2cm]
Another improvement could be to take into account for suddenly changes, while the robot cleans the rooms and collects the cups. Better hardware and improvement of the software is needed to make this possible, but if it is done, then the robot would be able to clean and collect cups around the clock.  

\end{document}